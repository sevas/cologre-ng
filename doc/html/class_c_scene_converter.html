<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>cologre: CSceneConverter Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>CSceneConverter Class Reference</h1><!-- doxytag: class="CSceneConverter" --><!-- doxytag: inherits="CConverter" -->Class for converting collada scenes into ogre scenegraphs.  
<a href="#_details"></a>
<p>
<code>#include &lt;SceneConverter.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for CSceneConverter:</div>
<div class="dynsection">
<p><center><img src="class_c_scene_converter__inherit__graph.png" border="0" usemap="#_c_scene_converter__inherit__map" alt="Inheritance graph"></center>
<map name="_c_scene_converter__inherit__map">
<area shape="rect" href="class_c_converter.html" title="Base class for all converter classes." alt="" coords="24,5,107,32"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for CSceneConverter:</div>
<div class="dynsection">
<p><center><img src="class_c_scene_converter__coll__graph.png" border="0" usemap="#_c_scene_converter__coll__map" alt="Collaboration graph"></center>
<map name="_c_scene_converter__coll__map">
<area shape="rect" href="class_c_converter.html" title="Base class for all converter classes." alt="" coords="28,96,111,122"><area shape="rect" href="structconversion_options.html" title="global struct with conversion options. make sure to set these before calling any..." alt="" coords="5,5,133,32"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="class_c_scene_converter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bb5b94c0e177eb877b4475465e1b852c"></a><!-- doxytag: member="CSceneConverter::CSceneConverter" ref="bb5b94c0e177eb877b4475465e1b852c" args="(void)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#bb5b94c0e177eb877b4475465e1b852c">CSceneConverter</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2574d72c1eb1e1cd1de1375075ed9a2a"></a><!-- doxytag: member="CSceneConverter::~CSceneConverter" ref="2574d72c1eb1e1cd1de1375075ed9a2a" args="(void)" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#2574d72c1eb1e1cd1de1375075ed9a2a">~CSceneConverter</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#1e9ca6ca7e85784da668dd9935dfb22f">convert</a> (daeElement *pElement, Ogre::SceneManager *pOgreSceneManager)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#02781044885a69522d450d66d1c1a66c">buildSkeleton</a> (domNode *pNode, Ogre::Bone *pParentBone, Ogre::SkeletonPtr pOgreSkeleton)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bd90c7271ed82d145e5278824d302448"></a><!-- doxytag: member="CSceneConverter::transformSkeleton" ref="bd90c7271ed82d145e5278824d302448" args="(domNode *pNode, Ogre::SkeletonInstance *pOgreSkeletonInstance)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#bd90c7271ed82d145e5278824d302448">transformSkeleton</a> (domNode *pNode, Ogre::SkeletonInstance *pOgreSkeletonInstance)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transforms a skeleton recursively <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#c16668df09ced4e454b304644ff6b119">buildSceneHirachy</a> (domNode_Array *pNodeArray, Ogre::SceneNode *pParentNode, Ogre::SceneManager *pOgreSceneManager)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6011674e26f94d31db16629abdc8648a"></a><!-- doxytag: member="CSceneConverter::transformNode" ref="6011674e26f94d31db16629abdc8648a" args="(domNode *pDomNode, Ogre::Node *pOgreNode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#6011674e26f94d31db16629abdc8648a">transformNode</a> (domNode *pDomNode, Ogre::Node *pOgreNode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transforms an Ogre scene node using Collada DOM translate-, rotate- and scale-arrays or the transformation matrix <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Ogre::Light *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_scene_converter.html#ebb7df025f42dd7b7a7b4c03f8b6ff37">convertLight</a> (domLight *pLight, Ogre::SceneManager *pOgreSceneManager)</td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1e9ca6ca7e85784da668dd9935dfb22f"></a><!-- doxytag: member="CSceneConverter::convert" ref="1e9ca6ca7e85784da668dd9935dfb22f" args="(daeElement *pElement, Ogre::SceneManager *pOgreSceneManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CSceneConverter::convert           </td>
          <td>(</td>
          <td class="paramtype">daeElement *&nbsp;</td>
          <td class="paramname"> <em>pElement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::SceneManager *&nbsp;</td>
          <td class="paramname"> <em>pOgreSceneManager</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads collada "&lt;scenes&gt;s" and creates an Ogre scene graph accordingly. It parses all "&lt;node&gt;s" of a collada scene and tries to creates ogre scene graph nodes for each. If a skeleton reference is found within a node, it creates ogre-skeletons of the corresponding nodes of type JOINT and assignes the skeleton to the mesh skin. For all objects, a scene node only is created when the corresponding mesh already exists in the ogre MeshManager resource pool. /remarks This convert function needs to be called separately from all other converters and will not be called automatically if you call <a class="el" href="class_c_collada_database.html#9efecdfefc927002f75e8aa7c3b3b939" title="converts collada elements for meshes, materials and cotrollers (bone systems) to...">CColladaDatabase::convertResources()</a>, but can be called using <a class="el" href="class_c_collada_database.html#61ba496e9cad366692fee2dd8f0ce2e1" title="builds an Ogre scene graph from the collada scene element">CColladaDatabase::convertScene()</a> (see <a class="el" href="class_c_collada_database.html" title="Base class to load collada files and convert resources and scenes to Ogre.">CColladaDatabase</a> class description for details). This has two reasons, the first being that for the creation of ogre scene nodes, a scene manager is needed, whereas all meshes, materials and so on can be created with only an existing ogre root object. The second reason is gives the user the choice to ignore the collada scene definition at all (so just calling CColladaDatabase::convertResource()) and build his/her own scene graph using the converted resources. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pElement</em>&nbsp;</td><td>daeElement of the collada DAE database to be converted, must be of type "&lt;scene&gt;" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pOgreSceneManager</em>&nbsp;</td><td>Pointer to a pre-created, valid Ogre::SceneManager object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if succeeded, 1 upon error, prints error message to stderr </dd></dl>

</div>
</div><p>
<a class="anchor" name="02781044885a69522d450d66d1c1a66c"></a><!-- doxytag: member="CSceneConverter::buildSkeleton" ref="02781044885a69522d450d66d1c1a66c" args="(domNode *pNode, Ogre::Bone *pParentBone, Ogre::SkeletonPtr pOgreSkeleton)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSceneConverter::buildSkeleton           </td>
          <td>(</td>
          <td class="paramtype">domNode *&nbsp;</td>
          <td class="paramname"> <em>pNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::Bone *&nbsp;</td>
          <td class="paramname"> <em>pParentBone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::SkeletonPtr&nbsp;</td>
          <td class="paramname"> <em>pOgreSkeleton</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
builds an ogre skeleton based on the following rules : -the collada node pNode passed in as the first parameter must be of type JOINT -if pParentBone == NULL, a parent bone will be created in the first recursion step -it will recusively parse all subnodes of pNode and add them to pParentNode as children -it will NOT YET apply any transfomations to the bones and NOT attach a mesh to the skeleton <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pNode</em>&nbsp;</td><td>Collada Dom node pointer, must be of type JOINT </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pParentBone</em>&nbsp;</td><td>ogre bone to attach all created bones to as children, one will be created if NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pOgreSkeleton</em>&nbsp;</td><td>ogre skeleton pointer through which all bones will be created and therefore become part of this skeleton </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c16668df09ced4e454b304644ff6b119"></a><!-- doxytag: member="CSceneConverter::buildSceneHirachy" ref="c16668df09ced4e454b304644ff6b119" args="(domNode_Array *pNodeArray, Ogre::SceneNode *pParentNode, Ogre::SceneManager *pOgreSceneManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSceneConverter::buildSceneHirachy           </td>
          <td>(</td>
          <td class="paramtype">domNode_Array *&nbsp;</td>
          <td class="paramname"> <em>pNodeArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::SceneNode *&nbsp;</td>
          <td class="paramname"> <em>pParentNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::SceneManager *&nbsp;</td>
          <td class="paramname"> <em>pOgreSceneManager</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
takes a collada node array as starting input, loops through all elements of this array and calls itself recursively for all the childnodes of each node. Creates an ogre scene node for each collada node and attached them to pParentNode in the right hirachy <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pNodeArray</em>&nbsp;</td><td>Collada DOM node array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pParentNode</em>&nbsp;</td><td>ogre node to attach all created node to as children </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pOgreSceneManager</em>&nbsp;</td><td>needs to be passed in to create ogre entities </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ebb7df025f42dd7b7a7b4c03f8b6ff37"></a><!-- doxytag: member="CSceneConverter::convertLight" ref="ebb7df025f42dd7b7a7b4c03f8b6ff37" args="(domLight *pLight, Ogre::SceneManager *pOgreSceneManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::Light * CSceneConverter::convertLight           </td>
          <td>(</td>
          <td class="paramtype">domLight *&nbsp;</td>
          <td class="paramname"> <em>pLight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::SceneManager *&nbsp;</td>
          <td class="paramname"> <em>pOgreSceneManager</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
in here because lights need a scene manager to be created and there is no resource manager for lights called automatically whenever a light is found in the scene, adds lights to the scene graph 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>U:/src/collada/cologre/include/SceneConverter.h<li>U:/src/collada/cologre/src/SceneConverter.cpp</ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 10 12:57:06 2008 for cologre by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
