<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>cologre: CGeometryConverter Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>CGeometryConverter Class Reference</h1><!-- doxytag: class="CGeometryConverter" --><!-- doxytag: inherits="CResourceConverter" -->Class for converting collada geometry into ogre meshes.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;GeometryConverter.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for CGeometryConverter:</div>
<div class="dynsection">
<p><center><img src="class_c_geometry_converter__inherit__graph.png" border="0" usemap="#_c_geometry_converter__inherit__map" alt="Inheritance graph"></center>
<map name="_c_geometry_converter__inherit__map">
<area shape="rect" href="class_c_resource_converter.html" title="abstract base class for all resource converters" alt="" coords="7,80,145,107"><area shape="rect" href="class_c_converter.html" title="Base class for all converter classes." alt="" coords="35,6,117,32"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for CGeometryConverter:</div>
<div class="dynsection">
<p><center><img src="class_c_geometry_converter__coll__graph.png" border="0" usemap="#_c_geometry_converter__coll__map" alt="Collaboration graph"></center>
<map name="_c_geometry_converter__coll__map">
<area shape="rect" href="class_c_resource_converter.html" title="abstract base class for all resource converters" alt="" coords="7,174,145,200"><area shape="rect" href="class_c_converter.html" title="Base class for all converter classes." alt="" coords="35,96,117,123"><area shape="rect" href="structconversion_options.html" title="global struct with conversion options. make sure to set these before calling any..." alt="" coords="12,6,140,32"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="class_c_geometry_converter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6570fe80a5008b912573dd52865385fa"></a><!-- doxytag: member="CGeometryConverter::CGeometryConverter" ref="6570fe80a5008b912573dd52865385fa" args="(void)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#6570fe80a5008b912573dd52865385fa">CGeometryConverter</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Contructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ac0c0016553536a6fe71fcfc3b80bb5a"></a><!-- doxytag: member="CGeometryConverter::~CGeometryConverter" ref="ac0c0016553536a6fe71fcfc3b80bb5a" args="(void)" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#ac0c0016553536a6fe71fcfc3b80bb5a">~CGeometryConverter</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#ff3d6ede9db2fdb7d3493fe6a80a4623">convert</a> (daeDatabase *pDatabase)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="640f9649ff911cc0844aaf1449322a1a"></a><!-- doxytag: member="CGeometryConverter::buildVertexDeclFromInputArray" ref="640f9649ff911cc0844aaf1449322a1a" args="(const daeElementRef elemRef, Ogre::MeshPtr pOgreMesh)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#640f9649ff911cc0844aaf1449322a1a">buildVertexDeclFromInputArray</a> (const daeElementRef elemRef, Ogre::MeshPtr pOgreMesh)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">parses the input array of a "&lt;triangle&gt;" tag to create an Ogre vertex declaration <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#c803b5f745ef759aaf8ed94c29896e0a">copyData</a> (domPRef pRef, const std::vector&lt; domSource * &gt; &amp;vSource, IntermediateVertexData *pDest, Ogre::VertexDeclaration *pVertexDecl, Ogre::AxisAlignedBox *pAABB)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7f8d6595fdb27205e041796ec24db5a"></a><!-- doxytag: member="CGeometryConverter::m_vDataTmp" ref="a7f8d6595fdb27205e041796ec24db5a" args="" -->
std::vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#a7f8d6595fdb27205e041796ec24db5a">m_vDataTmp</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">for temporarily storing position, normal, txcoord, etc values <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1551dd857821fe0603703ca149ed9796"></a><!-- doxytag: member="CGeometryConverter::m_vDataTmpOffsets" ref="1551dd857821fe0603703ca149ed9796" args="" -->
std::vector&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#1551dd857821fe0603703ca149ed9796">m_vDataTmpOffsets</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">for temporarily storing offsets in the m_vDataTmp vector <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="60065c5aab72c4a140ff3c902ea3ffb2"></a><!-- doxytag: member="CGeometryConverter::m_vertexCount" ref="60065c5aab72c4a140ff3c902ea3ffb2" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#60065c5aab72c4a140ff3c902ea3ffb2">m_vertexCount</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">vertexCount for a single submesh <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="569dffec07f6935f96fa47ff5681c1e3"></a><!-- doxytag: member="CGeometryConverter::m_dominantElementIndex" ref="569dffec07f6935f96fa47ff5681c1e3" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#569dffec07f6935f96fa47ff5681c1e3">m_dominantElementIndex</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the dominant vertex element (the one with the highest count). Needed to create enough entries in the ogre vertex buffer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0f171885020b50041802c24f197099d7"></a><!-- doxytag: member="CGeometryConverter::m_vDeclarations" ref="0f171885020b50041802c24f197099d7" args="" -->
std::vector<br>
&lt; Ogre::VertexDeclaration * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#0f171885020b50041802c24f197099d7">m_vDeclarations</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">keep atrack of all vertex declarations <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e798089a3f2dd75c0ee1b0f5566990f8"></a><!-- doxytag: member="CGeometryConverter::m_vVBAssignments" ref="e798089a3f2dd75c0ee1b0f5566990f8" args="" -->
std::vector&lt; vertexWeight &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_geometry_converter.html#e798089a3f2dd75c0ee1b0f5566990f8">m_vVBAssignments</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">temporary storage place for vertex-bone-assignments <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class for converting collada geometry into ogre meshes. It creates a Ogre::Mesh of every collada "&lt;mesh&gt;" definition and one submesh for each collada "&lt;triangle&gt;" definition within that "&lt;mesh&gt;". <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ff3d6ede9db2fdb7d3493fe6a80a4623"></a><!-- doxytag: member="CGeometryConverter::convert" ref="ff3d6ede9db2fdb7d3493fe6a80a4623" args="(daeDatabase *pDatabase)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CGeometryConverter::convert           </td>
          <td>(</td>
          <td class="paramtype">daeDatabase *&nbsp;</td>
          <td class="paramname"> <em>pDatabase</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads collada "&lt;geometry&gt;s" and creates Ogre::Meshes accordingly. It creates vertex buffers and copies all vertex, normal and texture data to the buffer. Created meshes are stored in Ogres global MeshManager. An Ogre root object has to have been created BEFORE calling this function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pDatabase</em>&nbsp;</td><td>daeDatabse to convert the geometry elements from </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if succeeded, 1 upon error, prints error message to stderr </dd></dl>

<p>Implements <a class="el" href="class_c_resource_converter.html#0f7f34602c55d591ead8ddbefb2e9eff">CResourceConverter</a>.</p>

</div>
</div><p>
<a class="anchor" name="c803b5f745ef759aaf8ed94c29896e0a"></a><!-- doxytag: member="CGeometryConverter::copyData" ref="c803b5f745ef759aaf8ed94c29896e0a" args="(domPRef pRef, const std::vector&lt; domSource * &gt; &amp;vSource, IntermediateVertexData *pDest, Ogre::VertexDeclaration *pVertexDecl, Ogre::AxisAlignedBox *pAABB)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CGeometryConverter::copyData           </td>
          <td>(</td>
          <td class="paramtype">domPRef&nbsp;</td>
          <td class="paramname"> <em>pRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; domSource * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>vSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntermediateVertexData *&nbsp;</td>
          <td class="paramname"> <em>pDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::VertexDeclaration *&nbsp;</td>
          <td class="paramname"> <em>pVertexDecl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ogre::AxisAlignedBox *&nbsp;</td>
          <td class="paramname"> <em>pAABB</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reads the "&lt;p&gt;" values of a "&lt;triangle&gt;" section, reindexes all values and then copies all vertex, normal and texture coordinate values to the right location in the vertex buffer, according tpo their new index, fills index buffer with new indices. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>U:/src/collada/cologre/include/GeometryConverter.h<li>U:/src/collada/cologre/src/GeometryConverter.cpp</ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 10 12:57:05 2008 for cologre by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
